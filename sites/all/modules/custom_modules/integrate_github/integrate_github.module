<?php

function integrate_github_menu() {
  $items = array();  
  
  $items['github_info'] = array(
    'title' => t('Github Info'),
    'page callback' => 'github_info',
    'access callback' => TRUE,
    'type' => MENU_NORMAL_ITEM
  ); 
  
  return $items;
}

function github_info(){
  $json = '{"ref":"refs/heads/test","after":"1ae6ea6fab7e11ad905f6f4e03211eeea05bc6f1","before":"f06ec22076260d58c07c393943060f33de56afdb","created":false,"deleted":false,"forced":false,"compare":"https://github.com/aman4you/Timehub/compare/f06ec2207626...1ae6ea6fab7e","commits":[{"id":"1ae6ea6fab7e11ad905f6f4e03211eeea05bc6f1","distinct":true,"message":"access github information by JSON file","timestamp":"2014-01-23T06:24:11-08:00","url":"https://github.com/aman4you/Timehub/commit/1ae6ea6fab7e11ad905f6f4e03211eeea05bc6f1","author":{"name":"aman","email":"aman.goel2452@gmail.com","username":"aman4you"},"committer":{"name":"aman","email":"aman.goel2452@gmail.com","username":"aman4you"},"added":[],"removed":["workbook_data.php"],"modified":["sites/all/modules/custom_modules/integrate_github/integrate_github.module"]}],"head_commit":{"id":"1ae6ea6fab7e11ad905f6f4e03211eeea05bc6f1","distinct":true,"message":"access github information by JSON file","timestamp":"2014-01-23T06:24:11-08:00","url":"https://github.com/aman4you/Timehub/commit/1ae6ea6fab7e11ad905f6f4e03211eeea05bc6f1","author":{"name":"aman","email":"aman.goel2452@gmail.com","username":"aman4you"},"committer":{"name":"aman","email":"aman.goel2452@gmail.com","username":"aman4you"},"added":[],"removed":["workbook_data.php"],"modified":["sites/all/modules/custom_modules/integrate_github/integrate_github.module"]},"repository":{"id":13239933,"name":"Timehub","url":"https://github.com/aman4you/Timehub","description":"Timesheet entry to supplement project management on github","watchers":0,"stargazers":0,"forks":0,"fork":true,"size":8295,"owner":{"name":"aman4you","email":"aman.goel@innoraft.com"},"private":false,"open_issues":0,"has_issues":false,"has_downloads":true,"has_wiki":true,"language":"PHP","created_at":1380620476,"pushed_at":1390487116,"master_branch":"master"},"pusher":{"name":"aman4you","email":"aman.goel@innoraft.com"}}';
  $values = json_decode($json);
  dpm($values->repository->name);
  dpm($values->commits[0]->message);
  return "hello";
}
